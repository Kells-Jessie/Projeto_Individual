<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome</title>
  <link rel="icon" href="assets/icon/calicifer_logo.gif">
  <link rel="stylesheet" href="./css/open.css" />
</head>

<body>
  <div class="bannerOpen">
    <div class="ContainerOpen" id="agregarBalao">
      <div class="mostrarbalao" style="display: none;">
        <div class="balao">
          <p id="digitando"></p>
        </div>
        <div id="botaoDirecionar" style="display: none;">
          <button onclick="direcionarPagina()">Explorar</button>
        </div>
      </div>
      <div class="imagem">
        <img onclick="mostrarDialogo()" src="assets/imgs/totoro_folha.gif">
      </div class=>
    </div>
  </div>

  <script>
    var clique = 0;
    var listaEstrofes = [
      `Ol√°, sou o Totoro! üåø Eu sou um esp√≠rito da floresta, um ser ador√°vel e peludo que vive nas √°rvores e cuida da natureza. 
      As crian√ßas me veem quando est√£o brincando e explorando, nesses momentos sempre tento trazer alegria e magia aos seus cora√ß√µes.`,

      `Hoje, quero compartilhar algo m√°gico com voc√™s: o Studio Ghibli!
       O Studio Ghibli √© como um lar encantado de hist√≥rias extraordin√°rias. Criado pelo talentoso Hayao Miyazaki e seus amigos, este 
       est√∫dio nos presenteou com mundos repletos de magia, criaturas fant√°sticas e personagens inesquec√≠veis.`,

      `Ent√£o, da pr√≥xima vez que se aconchegar para assistir a uma obra-prima do Studio Ghibli, lembre-se: estamos todos juntos nessa aventura,
       explorando mundos de maravilha e descobrindo a magia que vive dentro de n√≥s. Vamos voar juntos com o Studio Ghibli! üåü`
    ];

    var speed = 20;

    function mostrarDialogo() {
      if (clique < listaEstrofes.length) {
        var elementoDigitando = document.getElementById("digitando");

        // Limpa o conte√∫do anterior se n√£o for o primeiro clique
        if (clique > 0) {
          elementoDigitando.innerHTML = "";
        }

        document.querySelector('.mostrarbalao').style.display = 'flex';
        document.getElementById('botaoDirecionar').style.display = 'none';

        escreverTexto();
      }
    }

    function escreverTexto() {
      var elementoDigitando = document.getElementById("digitando");
      var textoAtual = listaEstrofes[clique];
      var i = 0;

      function iterarTexto() {
        if (i < textoAtual.length) {
          elementoDigitando.innerHTML += textoAtual[i];
          i++;
          setTimeout(iterarTexto, speed);
        } else {
          clique++;

          if (clique === listaEstrofes.length) {
            document.getElementById('botaoDirecionar').style.display = 'block';
          }
        }
      }

      iterarTexto();
    }

    function direcionarPagina() {
      window.location.href = 'index.html';
    }

  </script>
</body>

</html>